interface:
* pass TokenAttr to createElement, then append adjusted attributes with a
  separate callback
* get rid of getParentNode (replace with an insertBeforeOrAppendTo?)
* use converter + proc for optional callbacks instead of method?
optimizations:
* reduce use of getNamespace (maybe store ns on the stack of open elements?)
* reduce atomToTagType calls (store tagType before the case statement in match?)
* on-demand creation of attribute name atoms (most documents don't even
  need atomMap); use ref array/Option?
etc:
* turn test1 into a serializer module
