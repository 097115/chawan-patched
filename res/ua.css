:root { display: block !important }

area, base, basefont, datalist, head, link, meta, noembed,
noframes, param, rp, script, style, template, title { display: none }

address, article, aside, blockquote, body, center, dd, details, dialog,
dir, div, dl, dt, figcaption, figure, footer, form, h1, h2, h3, h4,
h5, h6, header, hgroup, hr, html, legend, listing, main, menu, nav,
noframes, noscript, ol, p, plaintext, pre, search, section, ul, xmp {
	display: block
}

br[clear=left i] { clear: left }
br[clear=right i] { clear: right }
br[clear=all i], br[clear=both i] { clear: both }

fieldset { display: flow-root }

code { text-decoration: -cha-reverse }
pre code { text-decoration: none }

@media (scripting: enabled) { noscript { display: none } }

textarea, iframe, frame, input, canvas { display: inline-block }

ol, ul, menu, dir { padding-left: 4ch; margin: 1em 0 }
ol > li:nth-child(n+100) { margin-left: 1ch }
ol > li:nth-child(n+1000) { margin-left: 2ch }
ol > li:nth-child(n+10000) { margin-left: 3ch }

:is(ol, ul, menu, dir) :is(ol, ul, menu, dir) {
	margin-top: unset;
	margin-bottom: unset
}

blockquote { margin: 1em }

q::before { content: open-quote }
q::after { content: close-quote }

table {
	display: table;
	border-spacing: 0.5ch 0;
	padding-left: 0.5ch;
	padding-right: 0.5ch;
	box-sizing: border-box
}

tbody { display: table-row-group; vertical-align: middle }
thead { display: table-header-group }
tfoot { display: table-footer-group; }
colgroup { display: table-column-group; }
tr { display: table-row; vertical-align: inherit }
col { display: table-column }
th { display: table-cell; font-weight: bold; vertical-align: inherit }
td { display: table-cell; text-align: unset; vertical-align: inherit }

caption { display: table-caption; text-align: center }
caption[align=top] { caption-side: top }
caption[align=bottom] { caption-side: bottom }

input { margin-right: 1ch; white-space: pre; color: red; text-decoration: underline }
input[type=hidden i] { display: none }
input::before { content: '['; text-decoration: none; color: initial }
input::after { content: ']'; text-decoration: none; color: initial }

input[type=submit i], input[type=button i], input[type=reset i],
input[type=radio i], input[type=checkbox i] {
	text-decoration: none
}

input[type=radio i]::before {
	content: '(';
	text-decoration: none;
	color: initial
}

input[type=radio i]::after {
	content: ')';
	text-decoration: none;
	color: initial
}

input:is([type=submit i], [type=button i], [type=reset i])::before,
input:is([type=submit i], [type=button i], [type=reset i])::after, button {
	color: red;
	text-decoration: none
}

textarea { color: red; white-space: pre }

li, summary { display: list-item }

i, em { font-style: italic }

b, strong { font-weight: bold }

u, ins { text-decoration: underline }

h1, h2, h3, h4, h5, h6 { margin: 1em 0; font-weight: bold }
body > :is(h1, h2, h3, h4, h5, h6):-cha-first-node { margin-top: 0 }

pre, xmp { margin: 1em 0; white-space: pre }

plaintext { white-space: pre }

nobr { white-space: nowrap }

p { margin: 1em 0 }

@media (prefers-color-scheme: light) {
a[href] { color: -cha-ansi(blue) }
video, audio { color: -cha-ansi(red) }
}
@media (prefers-color-scheme: dark) {
a[href] { color: -cha-ansi(yellow) }
video, audio { color: -cha-ansi(red) }
}

a[href]:hover, video:hover, audio:hover { text-decoration: underline }

sup::before { content: '^' }
sub::before { content: '~' }

:is(ol, ul, menu, dir) ul { list-style-type: circle }
:is(ol, ul, menu, dir) :is(ol, ul, menu, dir) ul { list-style-type: square }

dl { margin-bottom: 1em }
:is(ul, ol, dir, menu, dl) dl { margin-bottom: unset }
dt { font-weight: bold }
dd { margin-left: 4ch }
dl[compact] dt + br { display: none }

select { display: inline-block }
select:focus { visibility: hidden }
select::before { content: '['; color: initial; display: inline-block }
select::after { content: ']'; color: initial; display: inline-block }

select > :is(option, optgroup > option) { display: none }

select > :is(option, optgroup > option):checked {
	display: inline-block;
	color: red
}

select[multiple] > :is(option, optgroup > option):first-child {
	display: inline-block
}

select[multiple] > :is(option, optgroup > option):not(:checked):first-child::after {
	content: '(...)
}

select[multiple] > :is(option, optgroup > option):not(:first-child):checked::before {
	content: ','
}

center { text-align: -cha-center }

blink { text-decoration: blink }

del, s, strike { text-decoration: line-through }

rt::before { content: '（' }
rt::after { content: '）' }

img[align=left i] { float: left }
img[align=right i] { float: right }
img[align=top i] { vertical-align: top }
img[align=middle i], img[align=center i] { vertical-align: middle }
img[align=bottom i] { vertical-align: bottom }

table[align=left i] { float: left }
table[align=right i] { float: right }
table[align=center i] { margin-left: auto; margin-right: auto }

:is(div, p, td, th, thead, tbody, tfoot, tr)[align=left i] {
	text-align: -cha-left
}

:is(div, p, td, th, thead, tbody, tfoot, tr)[align=center i] {
	text-align: -cha-center
}

:is(div, p, td, th, thead, tbody, tfoot, tr)[align=middle i] {
	text-align: -cha-center
}

:is(div, p, td, th, thead, tbody, tfoot, tr)[align=right i] {
	text-align: -cha-right
}

:is(td, th, thead, tbody, tfoot, tr)[valign=top i] {
	vertical-align: top
}

:is(td, th, thead, tbody, tfoot, tr)[valign=middle i] {
	vertical-align: middle
}

:is(td, th, thead, tbody, tfoot, tr)[valign=bottom i] {
	vertical-align: bottom
}

:is(td, th, thead, tbody, tfoot, tr)[valign=baseline i] {
	vertical-align: baseline
}

ol { list-style-type: decimal; counter-reset: list-item 0 }
ol[type=1] { list-style-type: decimal }
ol[type=a s] { list-style-type: lower-alpha }
ol[type=A s] { list-style-type: upper-alpha }
ol[type=i s] { list-style-type: lower-roman }
ol[type=I s] { list-style-type: upper-roman }

ul { list-style-type: disc; counter-reset: list-item 0 }
ul[type=none i] { list-style-type: none }
ul[type=disc i] { list-style-type: disc }
ul[type=circle i] { list-style-type: circle }
ul[type=square i] { list-style-type: square }
